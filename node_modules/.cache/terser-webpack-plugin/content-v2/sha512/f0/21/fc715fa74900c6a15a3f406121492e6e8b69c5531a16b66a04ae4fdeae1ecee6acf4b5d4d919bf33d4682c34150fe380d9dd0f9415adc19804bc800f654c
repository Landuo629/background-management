{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-d6451c16\"],{\"71e9\":function(e,t,a){},\"85b2\":function(e,t,a){\"use strict\";var r={data:function(){return{labelWidth:\"auto\",labelSuffix:\"：\",tableLayout:\"total, prev, pager, next\",pageSize:10,pageSizes:[100,200,300,400],dialogWidth:\"50%\",showOverflowTooltip:!0}}};t[\"a\"]=r},\"982d\":function(e,t,a){\"use strict\";a(\"cb8e\")},a140:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"editUserInfo\"},[a(\"header\",[a(\"el-page-header\",{attrs:{content:e.titel},on:{back:e.goBack}})],1),a(\"main\",[a(\"HeadTitle\",{attrs:{\"head-title\":\"个人信息\",size:\"primary\"}},[a(\"template\",{slot:\"content\"},[a(\"el-form\",{ref:\"form\",staticClass:\"formData\",attrs:{model:e.formData,rules:e.formDataRules,\"label-width\":\"auto\",\"label-suffix\":e.labelSuffix}},[a(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[a(\"el-col\",{attrs:{xs:24,md:12,lg:6,xl:6}},[a(\"el-form-item\",{attrs:{label:\"姓名\",prop:\"userName\"}},[!e.operate||e.isOperation?a(\"span\",[e._v(e._s(e.formData.userName))]):a(\"el-input\",{attrs:{type:\"text\",clearable:\"\"},model:{value:e.formData.userName,callback:function(t){e.$set(e.formData,\"userName\",t)},expression:\"formData.userName\"}})],1)],1),a(\"el-col\",{attrs:{xs:24,md:12,lg:6,xl:6}},[a(\"el-form-item\",{attrs:{label:\"昵称\",prop:\"nickName\"}},[a(\"span\",[e._v(e._s(e.formData.nickName))])])],1)],1),a(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[a(\"el-col\",{attrs:{xs:24,md:12,lg:6,xl:6}},[a(\"el-form-item\",{attrs:{label:\"性别\",prop:\"sex\"}},[a(\"span\",[e._v(e._s(null===e.formData.sex?\"\":0===e.formData.sex?\"女\":\"男\"))])])],1),a(\"el-col\",{attrs:{xs:24,md:12,lg:6,xl:6}},[a(\"el-form-item\",{attrs:{label:\"出生日期\",prop:\"birthday\"}},[a(\"span\",[e._v(e._s(e.formData.birthday))])])],1)],1),a(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[a(\"el-col\",{attrs:{xs:24,md:12,lg:6,xl:6}},[a(\"el-form-item\",{attrs:{label:\"公司职位\",prop:\"position\"}},[a(\"span\",[e._v(e._s(e.positionTypeName(e.formData.position)))])])],1),a(\"el-col\",{attrs:{xs:24,md:12,lg:6,xl:6}},[a(\"el-form-item\",{attrs:{label:\"手机号\",prop:\"phone\"}},[!e.operate||e.isOperation?a(\"span\",[e._v(e._s(e.formData.phone))]):a(\"el-input\",{attrs:{type:\"number\",clearable:\"\"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,\"phone\",t)},expression:\"formData.phone\"}})],1)],1)],1),a(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[a(\"el-col\",{attrs:{xs:24,md:12,lg:6,xl:6}},[a(\"el-form-item\",{attrs:{label:\"用户类型\",prop:\"type\"}},[a(\"span\",[e._v(e._s(0===e.formData.type?\"普通用户\":1===e.formData.type?\"试听用户\":\"会员用户\"))])])],1),a(\"el-col\",{attrs:{xs:24,md:12,lg:6,xl:6}},[a(\"el-form-item\",{attrs:{label:\"剩余选课次数\",prop:\"courseTicket\"}},[e.operate?a(\"el-input\",{attrs:{type:\"number\",clearable:\"\"},model:{value:e.formData.courseTicket,callback:function(t){e.$set(e.formData,\"courseTicket\",t)},expression:\"formData.courseTicket\"}}):a(\"span\",[e._v(e._s(e.formData.courseTicket))])],1)],1)],1),a(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[a(\"el-col\",{attrs:{xs:24,md:24,lg:18,xl:18}},[a(\"el-form-item\",{attrs:{label:\"常住地址\",prop:\"address\"}},[a(\"span\",[e._v(e._s(e.formData.address))])])],1)],1),a(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[a(\"el-col\",{attrs:{xs:24,md:24,lg:18,xl:18}},[a(\"el-form-item\",{attrs:{label:\"企业名称\",prop:\"companyName\"}},[e.operate?a(\"el-input\",{staticClass:\"companyName\",attrs:{type:\"text\",clearable:\"\"},model:{value:e.formData.companyName,callback:function(t){e.$set(e.formData,\"companyName\",t)},expression:\"formData.companyName\"}}):a(\"span\",[e._v(e._s(e.formData.companyName))])],1)],1)],1),a(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[a(\"el-col\",{attrs:{xs:24,md:12,lg:6,xl:6}},[a(\"el-form-item\",{attrs:{label:\"所属行业\",prop:\"industry\"}},[a(\"span\",[e._v(e._s(e.industryName(e.formData.industry)))])])],1),a(\"el-col\",{attrs:{xs:24,md:12,lg:6,xl:6}},[a(\"el-form-item\",{attrs:{label:\"企业规模\",prop:\"companyScale\"}},[a(\"span\",[e._v(e._s(e.companyScaleName(e.formData.companyScale)))])])],1)],1),a(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[a(\"el-col\",{attrs:{xs:24,md:24,lg:18,xl:18}},[a(\"el-form-item\",{attrs:{label:\"期望学习\",prop:\"expectTarget\"}},[a(\"span\",[e._v(e._s(e.expectTargetName(e.formData.expectTarget)))])])],1)],1),a(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[a(\"el-col\",{attrs:{xs:24,md:24,lg:18,xl:18}},[a(\"el-form-item\",{attrs:{label:\"备注\",prop:\"remark\"}},[e.operate?a(\"el-input\",{attrs:{type:\"textarea\",clearable:\"\"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,\"remark\",t)},expression:\"formData.remark\"}}):a(\"span\",[e._v(e._s(e.formData.remark))])],1)],1)],1)],1)],1)],2)],1),a(\"footer\",{staticClass:\"layoutFooter\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.confirmForm(\"form\")}}},[e._v(\"提 交\")])],1)])},n=[],s=a(\"5530\"),o=a(\"1da1\"),i=(a(\"4de4\"),a(\"d3b7\"),a(\"b0c0\"),a(\"ac1f\"),a(\"1276\"),a(\"159b\"),a(\"96cf\"),a(\"85b2\")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"headTitle\"},[a(\"div\",{staticClass:\"head\"},[a(\"span\",[e._v(e._s(e.headTitle))]),e.tips?a(\"span\",{staticClass:\"tips\"},[e._v(\"(\"+e._s(e.tips)+\")\")]):e._e(),e.buttonVisible?a(\"el-button\",{staticClass:\"show\",attrs:{type:\"text\",size:\"mini\"},on:{click:e.show}},[e._v(\"预览\")]):e._e()],1),a(\"div\",{staticClass:\"content\"},[e._t(\"content\")],2)])},u=[],c={name:\"HeadTitle\",props:{headTitle:{type:String,default:\"章节标题\"},size:{type:String,default:\"primary\"},tips:{type:String},buttonVisible:{type:Boolean,default:!1}},data:function(){return{}},methods:{show:function(){this.$emit(\"show\",!0)}}},p=c,m=(a(\"f74a\"),a(\"2877\")),f=Object(m[\"a\"])(p,l,u,!1,null,null,null),d=f.exports,g={name:\"ListPageDetail\",components:{HeadTitle:d},mixins:[i[\"a\"]],data:function(){return{studyStatus:[\"待上课\",\"已上课\",\"已过期\"],total:0,tableCurrent:1,titel:\"\",userId:\"\",formData:{},operate:\"\",userType:0,addDialogVisible:!1,formDataRules:{name:[{required:!0,message:\"请输入姓名\",trigger:\"blur\"},{min:2,max:6,message:\"长度在 2 到 6 个字符\",trigger:\"blur\"}],phone:[{required:!0,message:\"请输入手机号码\",trigger:\"blur\"},{pattern:/^1[3-9](\\d{9})$/,message:\"请输入正确的手机号\",trigger:[\"blur\",\"change\"]}],courseTicket:[{required:!0,message:\"请输入剩余选课次数\",trigger:\"blur\"},{pattern:/^[0-9]+$/,message:\"剩余选课次数不能为负数\",trigger:\"blur\"}],company:[{required:!0,message:\"请输入公司名称\",trigger:\"blur\"}]},tableData:[],demoLessonData:[],courseData:[],queryParams:{courseNoOrName:\"\",courseType:\"\",teacher:\"\",page:\"\",size:10,status:2},courseTypeOptions:[],selectedCourse:\"\",expectTargetOptions:[],industryTypeOptions:[],companyScaleOptions:[],isOperation:!0}},mounted:function(){var e=this.$route.query,t=e.operate,a=e.id;this.operate=\"edit\"===t,this.titel=\"edit\"===t?\"编辑页面\":\"详情页面\",this.userId=a,this.$route.meta.title=this.operate?\"编辑用户\":\"用户详情\",this.getFormData(a),this.industryType(),this.expectTarget(),this.companyScale(),this.positionType(),this.getOperation(a)},methods:{getOperation:function(e){var t=this;return Object(o[\"a\"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,getShouldCompleteUserInfo({userId:e});case 2:r=a.sent,n=r.data,t.isOperation=!n;case 5:case\"end\":return a.stop()}}),a)})))()},industryType:function(){var e=this;return Object(o[\"a\"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,getIndustryType();case 2:a=t.sent,r=a.data,e.industryTypeOptions=r;case 5:case\"end\":return t.stop()}}),t)})))()},industryName:function(e){var t,a;return e?null===(t=this.industryTypeOptions.filter((function(t){return t.value===e}))[0])||void 0===t?void 0:t.name:0===e?null===(a=this.industryTypeOptions.filter((function(t){return t.value===e}))[0])||void 0===a?void 0:a.name:\"\"},companyScale:function(){var e=this;return Object(o[\"a\"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,getCompanyScale();case 2:a=t.sent,r=a.data,e.companyScaleOptions=r;case 5:case\"end\":return t.stop()}}),t)})))()},companyScaleName:function(e){var t,a;return e?null===(t=this.companyScaleOptions.filter((function(t){return t.value===e}))[0])||void 0===t?void 0:t.name:0===e?null===(a=this.companyScaleOptions.filter((function(t){return t.value===e}))[0])||void 0===a?void 0:a.name:\"\"},expectTarget:function(){var e=this;return Object(o[\"a\"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,getExpectTargetType();case 2:a=t.sent,r=a.data,e.expectTargetOptions=r;case 5:case\"end\":return t.stop()}}),t)})))()},expectTargetName:function(e){var t,a=this;if(e){var r=e.split(\",\"),n=\"\";return r.forEach((function(e){var t;n+=null===(t=a.expectTargetOptions.filter((function(t){return t.value===1*e}))[0])||void 0===t?void 0:t.name})),n}return 0===e?null===(t=this.expectTargetOptions.filter((function(t){return t.value===e}))[0])||void 0===t?void 0:t.name:\"\"},positionType:function(){var e=this;return Object(o[\"a\"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,getPositionType();case 2:a=t.sent,r=a.data,e.positionTypeOptions=r;case 5:case\"end\":return t.stop()}}),t)})))()},positionTypeName:function(e){var t,a;return e?null===(t=this.positionTypeOptions.filter((function(t){return t.value===e}))[0])||void 0===t?void 0:t.name:0===e?null===(a=this.positionTypeOptions.filter((function(t){return t.value===e}))[0])||void 0===a?void 0:a.name:\"\"},getFormData:function(e){var t=this;return Object(o[\"a\"])(regeneratorRuntime.mark((function a(){var r,n,s,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,getUserDetail({id:e});case 2:r=a.sent,n=r.data,t.formData=n,s=n.auditionCourse,o=n.recordCourse,i=n.type,t.userType=1===i?1:2===i?2:0,t.demoLessonData=s?[s]:[],t.tableData=o||[],t.formData.remark=null===t.formData.remark?\"\":t.formData.remark;case 10:case\"end\":return a.stop()}}),a)})))()},getCourseAllList:function(){var e=this;return Object(o[\"a\"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,getCourseList(e.queryParams);case 2:a=t.sent,r=a.data,n=r.records,s=r.total,e.courseData=n,e.total=s;case 8:case\"end\":return t.stop()}}),t)})))()},goBack:function(){this.$router.go(-1)},addCourse:function(){this.addDialogVisible=!0,this.edit()},onSearch:function(){this.getCourseAllList()},resetForm:function(e){this.$refs[e].resetFields()},handleSelectionChange:function(e){this.selectedCourse=e[0],e.length>1&&(this.$refs.multipleTable.clearSelection(),this.$refs.multipleTable.toggleRowSelection(e.pop()))},toggleSelection:function(e){this.$refs.multipleTable.toggleRowSelection(e)},confirmSelectedCourse:function(){var e=this;return Object(o[\"a\"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=2===e.userType?0:1,r=e.selectedCourse||\"\",n=r.id,!n){t.next=13;break}if(!e.selectedCourse){t.next=11;break}return t.next=6,addAuditionCourse({courseId:n,userId:e.userId,type:a});case 6:return e.$refs.multipleTable.clearSelection(),e.resetForm(\"queryForm\"),e.addDialogVisible=!1,t.next=11,e.getFormData(e.userId);case 11:t.next=14;break;case 13:e.addDialogVisible=!1;case 14:case\"end\":return t.stop()}}),t)})))()},cancelSelectedCourse:function(){this.addDialogVisible=!1,this.$refs.multipleTable.clearSelection(),this.resetForm(\"queryForm\")},edit:function(e){var t=this;return Object(o[\"a\"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.addDialogVisible=!0,t.getCourseAllList(),e.next=4,getCourseType();case 4:a=e.sent,r=a.data,t.courseTypeOptions=r;case 7:case\"end\":return e.stop()}}),e)})))()},confirmForm:function(e){var t=this,a=this.demoLessonData.id;this.$refs[e].validate((function(e){e&&Object(o[\"a\"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,updateUsers(Object(s[\"a\"])(Object(s[\"a\"])({},t.formData),{},{auditionCourseId:a}));case 2:t.goBack();case 3:case\"end\":return e.stop()}}),e)})))()}))}}},h=g,y=(a(\"982d\"),Object(m[\"a\"])(h,r,n,!1,null,null,null));t[\"default\"]=y.exports},cb8e:function(e,t,a){},f74a:function(e,t,a){\"use strict\";a(\"71e9\")}}]);","extractedComments":[]}