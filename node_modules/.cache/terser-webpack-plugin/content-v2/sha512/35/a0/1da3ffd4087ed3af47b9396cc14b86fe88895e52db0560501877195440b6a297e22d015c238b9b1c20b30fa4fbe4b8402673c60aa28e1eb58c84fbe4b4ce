{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-31f6db30\"],{2017:function(e,t,s){\"use strict\";s(\"cafe\")},\"9ed6\":function(e,t,s){\"use strict\";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"login-container\"},[s(\"el-form\",{ref:\"loginForm\",staticClass:\"login-form\",attrs:{model:e.loginForm,rules:e.loginRules,\"auto-complete\":\"on\",\"label-position\":\"left\"}},[s(\"div\",{staticClass:\"title-container\"},[s(\"h3\",{staticClass:\"title\"},[e._v(\"中德制造业研修院后台管理系统\")])]),s(\"el-form-item\",{attrs:{prop:\"userName\"}},[s(\"span\",{staticClass:\"svg-container\"},[s(\"svg-icon\",{attrs:{\"icon-class\":\"user\"}})],1),s(\"el-input\",{ref:\"userName\",attrs:{placeholder:\"请输入用户名\",name:\"userName\",type:\"text\",tabindex:\"1\",\"auto-complete\":\"on\"},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,\"userName\",t)},expression:\"loginForm.userName\"}})],1),s(\"el-form-item\",{attrs:{prop:\"password\"}},[s(\"span\",{staticClass:\"svg-container\"},[s(\"svg-icon\",{attrs:{\"icon-class\":\"password\"}})],1),s(\"el-input\",{key:e.passwordType,ref:\"password\",attrs:{type:e.passwordType,placeholder:\"请输入密码\",name:\"password\",tabindex:\"2\",\"auto-complete\":\"on\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,\"password\",t)},expression:\"loginForm.password\"}}),s(\"span\",{staticClass:\"show-pwd\",on:{click:e.showPwd}},[s(\"svg-icon\",{attrs:{\"icon-class\":\"password\"===e.passwordType?\"eye\":\"eye-open\"}})],1)],1),s(\"el-button\",{staticStyle:{width:\"100%\",\"margin-bottom\":\"30px\"},attrs:{loading:e.loading,type:\"primary\"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(\"登 陆\")])],1),s(\"video\",{attrs:{src:\"https://sgssacne2cnarchuatuat.blob.core.chinacloudapi.cn/cn-arch-uat/OGC/2022/04/16493365596243581008229808075398628_1650960734031.mp4?sig=ggd9y9FAoiCvw9JD5Nznq0yGwq4OJS4XskdKQo3i%2Fpk%3D&se=2022-04-26T10%3A12%3A15Z&sv=2017-07-29&sp=r&sr=b\"}})],1)},n=[],a=s(\"1da1\"),o=(s(\"96cf\"),s(\"08d8\")),i=s(\"5f87\"),c={name:\"Login\",data:function(){return{loginForm:{userName:\"superAdmin\",password:\"admin123\"},loginRules:{userName:[{required:!0,message:\"请输入用户名\",trigger:\"blur\"}],password:[{required:!0,message:\"请输入密码\",trigger:\"blur\"}]},loading:!1,passwordType:\"password\",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd:function(){var e=this;this.passwordType=\"password\"===this.passwordType?\"\":\"password\",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(){var t=Object(a[\"a\"])(regeneratorRuntime.mark((function t(s){var r,n,a,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!s){t.next=22;break}return e.loading=!0,t.prev=2,t.next=5,Object(o[\"a\"])(e.loginForm);case 5:return r=t.sent,n=r.data,a=n.token,c=n.userName,l=n.adminType,Object(i[\"c\"])(a),e.$store.dispatch(\"user/SET_NAME\",c),t.next=14,e.$store.dispatch(\"user/SET_ROLES\",0===l?[\"admin\"]:[\"superAdmin\"]);case 14:e.$router.push({path:e.redirect||\"/\"}),t.next=20;break;case 17:t.prev=17,t.t0=t[\"catch\"](2),e.loading=!1;case 20:t.next=24;break;case 22:return console.log(\"error submit!!\"),t.abrupt(\"return\",!1);case 24:case\"end\":return t.stop()}}),t,null,[[2,17]])})));return function(e){return t.apply(this,arguments)}}())}}},l=c,u=(s(\"2017\"),s(\"c7c5\"),s(\"2877\")),p=Object(u[\"a\"])(l,r,n,!1,null,\"4d95cbbe\",null);t[\"default\"]=p.exports},a3e0:function(e,t,s){},c7c5:function(e,t,s){\"use strict\";s(\"a3e0\")},cafe:function(e,t,s){}}]);","extractedComments":[]}